---
title: "Krita 2018 年筹款和开发冲刺活动的最后一天"
date: "2018-10-15"
categories: 
  - "news-zh"
---

[![](images/2018-fundraiser-hero2.png)](https://krita.org)

我们原本打算每天写一篇通讯，介绍在荷兰代芬特尔阳光明媚的这几天里发生的一切……

[![](images/IMG_8849-200x300.jpg)](https://krita.org/wp-content/uploads/2018/10/IMG_8849.jpg)

但我们最后还是没干成。因为我们实在是太忙了！我在撰写这篇通讯的时候还在分拣程序问题呢！我们在这次开发冲刺活动中修复了一百多个问题，这也刺激了更多的人帮助我们测试，于是在这段时间里我们又收到了大约 50 来个新的问题。要处理这么多的事务，不忙才怪呢！

[![](images/bugs_fixed-1.png)](https://krita.org/wp-content/uploads/2018/10/bugs_fixed-1.png)

上图：原开放问题 339 个，近 10 日新增 52 个，了结 101 个，净减少 49 个；原开放愿望 363 个，近 10 日新增 1 个，了结 5 个，净减少 4 个。

在整整一周里，我们触及了 Krita 的众多部件，每一位参加者都分享了自己的经验，让每一个人对于 Krita 代码的了解更加全面。还记得我们[从1999 年便开始编写这些代码了](https://phabricator.kde.org/R37:547279396fd1e263242d8f56263ab05aa32ec1ac)，那时候谁又能想到我们竟然会有每天一百多万的用户呢？

[![](images/team.png)](https://krita.org/wp-content/uploads/2018/10/team.png)

在 Krita 的总部我们习惯了一个人为其他两三个人准备伙食，现在我们要给八个人：Wolthera、Irina、Boudewijn、Dmitry、Ivan、Jouni、Emmet 和 Eoin 准备伙食了。这也算是一小挑战。下面我们介绍一下这次活动的日程、菜单和我们处理的程序问题吧！

### 周六：意大利杂菜汤

周六我们将 Michael Zhou 的 Google Summer of Code 工作成果合并到了代码里。这主要改进了调色板工具面板，并可以将调色板保存到 .kra 文件里。我们整整一周都在处理这次合并带来的各种问题，但这当然也在预料之中。我们这几天的每夜编译版本在测试人员那里看来肯定像是坐过山车一样吧！

除此之外，Jouni 演示了克隆帧和循环功能。Eoin 添加了一个全局滚动功能，现在几乎每个列表里都可以通过鼠标中间键进行滚动操作，使得在触摸屏上使用 Krita 变得更加舒适。

### 周日：番茄酱意大利面

周日我们加快了步伐。Wolthera 将全部新功能写入到了用户手册中——[如果你还没看过我们的用户手册，现在就看看吧！这是我们引以为豪的一项成果！](https://docs.krita.org)Emmet 修复了之前无法正确处理透明度通道的拾色器。除了被修复了的大大小小的问题，我们还新增了一项有趣的新功能：我们的新贡献者 Reptorian 在编写了一系列新的混合模式后，开始全力为选区工具编写一个对称差别模式。

在 Krita 项目里经常会有像这样缺少 C++ 背景知识的程序员贡献相当有意义的代码，Alberto Flores [也成功完成了他的首个补丁](https://phabricator.kde.org/D16157)！

### 周一：木莎卡 (茄子肉酱千层派)

周一我们修复了一个虽小却极为棘手的问题，这个问题使得在图层工具面板中选择多个图层的过程会影响合并的效果。我们还给动画时间线修复了多个问题。

这一天最重要的新功能是实现了将 SVG 文件导入为矢量图层。在这之前虽然听起来很傻，但通过图层功能进行导入时 SVG 文件是被导入为像素图层的。

Dmitry 开始着手让 Krita 的画布能更好地支持显示器缩放，这也是一项横跨了一周的工作。

Jouni 开始着手修复播放动画时的卡顿问题。这个补丁在周四完成并发布了。这也是我们被问及的最多的问题。

除此之外我们继续修复其他程序问题……

### 周二：蜜汁炖猪肉、芝麻炖黄豆、蚝汁炒卷心菜

周二我们进行了一系列的程序问题分拣工作，并将分拣后的问题指派给相关人员。同一天我们还完成了一些崩溃问题的修复和 Python 相关的修复，对图形界面进行了一些优化。我们还研究了实现 HDR 显示器支持所需的工作，不过那将是很久以后才能实现的事情了。

### 周三：肉酱填灯笼椒

周三 Dmitry 改良了用户修改和使用选区工具的方式，现在人们应该在选区边缘悬浮光标以移动选区。除此之外还有大量的程序问题和崩溃在这一天得到了修复。我们还开始着手准备新版的发布，将这些成果反向移植到 4.1 分支上。

### 周四：外出在 Da Mario 餐厅就餐，发布新版软件

这一天我们重复准备了三次需要发布的软件，最终赶在最后正常发布了，新版的 Krita 有近 50 个问题得到了修复。

但与此同时还有更多问题得到了修复！

Eoin 修复了动画曲线编辑器中的一个问题，修复了鬃毛和涂抹笔刷引擎中的一些问题。Wolthera 修复了颜色选择器的一处退化——如果你用乘以 0.5 来代替了除以 2 ，就不应该继续将它除下去。

Dmitry 还推送了最后一组与显示器缩放有关的修复，这意味着又一个老大难问题得到了解决！

没有出席开发冲刺的人们也没有闲着。Mehmet Salih Çalışkan 提交了两个补丁，一个是文本工具的，另一个时笔刷编辑器的，今天他的这些补丁发布了。Anna Medonosva 也修复了艺术颜色选择器的一些问题。

下午我们出门散步，遇到了代芬特尔的绵羊群，还有它们的牧羊犬。

[![](images/IMG_8914.jpg)](https://krita.org/wp-content/uploads/2018/10/IMG_8914.jpg)

当晚我们没有自己做饭。我们到 Da Mario (马记餐厅) 和当地的一位 Krita 支持者共进晚餐。

### 周五：印尼辣子鸡和辣椒炒黄豆

Emmett 修复了[一个非常难搞的，涂抹时黑色会混进其他颜色中的问题](https://bugs.kde.org/show_bug.cgi?id=394299)。我们觉得在数据库中还有很多类似这样的问题，但我们得进行更多的测试以确定这些问题到底是什么造成的。我们在数据库里有许多被重复报告的问题，但有时候它们看起来却并不是重复的。

Jouni 修复了 G'Mic 整合的一个问题。Boudewijn 研究了一个关于保存一个带有透明蒙版的分组图层到 OpenRaster 时会发生的问题，但这需要更新 OpenRaster 规范才能解决了。他还修复了在 Windows 和 macOS 下加载矢量线条的线头线尾装饰时会发生的问题。Ivan 动画时间线在 maxOS 下的一些特有问题。

下午的晚些时候我们讨论了减少 Bugzilla 混乱的一些选项，如使用一个服务台系统或者问答形式的网站。Bugzilla 应该只记录程序问题，而不是用来进行程序支持。

### 周六：红花菜豆薄荷叶酱炖肉丸

我们在周六稍事休息，因为整一周不停工作也不行啊。我们造访了附近一个叫做兹沃勒的小镇，它比代芬特尔要大上一些，是一个风景秀美的地方。它依然保存了一座老城门“萨森口 (Sassenpoort)”。它原本被用作小镇的档案馆，现在则面向公众开放，相当值得一去。兹沃勒曾经[以没有利润为由野蛮地关闭了当地的博物馆](https://www.destentor.nl/zwolle/het-doek-is-gevallen-voor-stedelijk-museum-zwolle~aa690500/)，但它还有一座叫做基金会 (Fundatie) 的现代美术馆，它正在举办一个[雕塑家 Giacometti 和 Chadwick 的小型作品展览](https://www.museumdefundatie.nl/en/giacometti-chadwick/)。

当晚我们继续工作。Jouni 差不多[修复了动画的回放音频问题](https://phabricator.kde.org/D16067)，相关的成果已经准备好进行合并了。

### 周日：雪梨甜菜头炖黑布丁猪血肠

这一天 Jouni 已经启程回到芬兰，而我们还在继续修复问题！这次开发冲刺活动是如此的长，几乎可以说是一次马拉松了。我们也开始觉得有点儿精神恍惚了。但是要修复的问题还是有很多！

### 尾声

明天我们的马拉松程序员们就要启程回家了，筹款活动也将结束。我们筹得了至少 25,000 欧元，这是一笔可观的款项！我们还没有将直接通过银行转账方式汇给 Krita 基金会的金额算进去，网站是不会实时反映那一部分的金额的。我们将继续修复程序的各种问题，让它更加稳定和精致，使得用户的体验能得到质的提升！
