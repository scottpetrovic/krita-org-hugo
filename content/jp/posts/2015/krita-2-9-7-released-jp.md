---
title: "Krita 2.9.7リリース！"
date: "2015-09-02"
categories: 
  - "uncategorized-jp"
tags: 
  - "japanese"
---

2か月にわたるバグフィックス、機能実装、Google Summer of Codeでの一仕事を終え、いよいよ新たなバージョンのリリースです！Krita 2.9.7は新機能が実装されるバージョンとしては2.9最後のリリースとなる特別なバージョンとなります。我々はこれからもバグフィックスのバージョンを定期的にリリースしていきますが、これより全ての機能開発はKrita 3.0へと注力されることになります。ですが2.9.7は盛りだくさんです！新機能、多数のバグフィックスが行われ、Windows版はOpenEXR 2.2へ対応しました。アイコンの一新、パフォーマンスを進歩させるブラシのアップデート、メモリ管理の改良…では、その内のいくつかを簡単に見てみましょう：

## 新機能

#### 接線法線ブラシエンジン（Tangent Normal Brush Engine）

従来通り、9月に我々は最初のGoogle Summer of Codeの成果を発表します。Wolthera氏の接線法線（Tangent Normal）ブラシエンジンが遂にマージされました！

![](/images/posts/2015/tangenttiltbrush.png)![](/images/posts/2015/phongbum1.png)

これは3Dエンジンやゲームエンジンで用いられる法線マップを描くことができる特別な機能です。紹介動画をご覧ください。

<iframe src="https://www.youtube.com/embed/qiX60EWyMF8" width="853" height="480" frameborder="0" allowfullscreen="allowfullscreen"></iframe>

このプロジェクトは以下4つからなります。

- [接線法線ブラシエンジン](https://userbase.kde.org/Krita/Manual/BrushEngines/TangentNormalBrush)（この機能を使うには傾き検知機能があるペンタブレットが必要になります！）
- バンプマップフィルタは法線マップの入力が可能になりました。
- 完全な新機能である正規化フィルタ（Normalize filter）
- カーソルの新しいオプションである傾きカーソル（Tilt Cursor）

### アイコンの一新

我々はアイコン一式を注意深く、完全に一新させました。全てのアイコンが明色のテーマでも暗色のテーマでも見えにくくならないように改良されました。またツールボックス内のアイコンの大きさを選べるようになりました。 ![](/images/posts/2015/toolbox.png) 高解像度スクリーンの場合はアイコンを大きくし、ネットブックならアイコンを小さくしましょう。ただツールボックスを右クリックするだけです。 ![](/images/posts/2015/resize-icons.gif) そしてツールボックスの改良の〆として、ツールティップではキーボードショートカットが表示されるようになり、またドッキングパネルメニューからツールボックスの表示・非表示を切り替えられるようになりました。

### ラップアラウンドモードの改良

シームレステクスチャを製作する人は皆、Kritaのユニークな機能であるラップアラウンドモード(Wキー)を気に入っていただいていると思います。今回、2つの制限事項を修正しました。オリジナルの中央のイメージ領域以外 からでも色のピックができるようになりました。塗りつぶしもオリジナルの領域以外のどこでも行えるようになりました！ ![](/images/posts/2015/pickcolorwraparound.png)

### 新しい色空間選択ダイアログ

またWolthera氏により色プロファイル選択のための新しいダイアログが追加されました。色プロファイルブラウザ（Color Profile browser）です。ただあまり複雑なことを考えずにお絵描きしたいならKritaのデフォルトで十分でしょう。ですがもっといろいろやってみたい、色管理の深みを探求してみたい、より高度な編集を行う必要がある、などという場合にはこのブラウザダイアログがカラースペースの情報について理解した上で選択をするために必要な全てを提供してくれるでしょう。 ![](/images/posts/2015/colorspacebrowser.png) Kritaには[Elle Stone氏](http://ninedegreesbelow.com/)による多数の注意深く調整されたICCプロファイルが実装されています。どうした用途に、どのカラースペースを使う方がいいか、といった彼女による広範囲にわたる注釈もこの新しいプロファイルブラウザに含まれています。

### 他の世界との互換性

我々はGimpとの互換性を改良しました。Kritaはグループレイヤーの読み込み、XCF v3ファイルの読み込み、そして遂にWindowsでのXCFファイルの読み込みが可能になっています。Photoshop PSDファイルのサポートも忘れてはいません。ビット/チャンネルCMYK・グレースケール画像、ZIP圧縮されたPSDファイル、PSDへの透過をもつ単レイヤーの改良型保存の画像の読み込みが可能になっています。

### 右クリックでの一つ前のパスポイントのやり直し

パス作成途中で右クリックすることで一つ前のパスポイントのやり直しができるようになりました。 ![](/images/posts/2015/right-click-delete.gif)

### さらに…

- フリーハンドツールの安定化モードに新たに可変平滑化（Scalable smoothness）機能が加わりました。
- 選択マスクが統合できるようになりました。
- レイヤーまたは選択領域を100%の不透明度で、前景色、背景色、または現在のパターンで塗りつぶすためのショートカットは既にありました。ショートカットに加えてShiftを押すと、現在のペイントで使用している不透明度を使用することができるようになりました。
- 補助線/定規を改善しました。直線定規のハンドルをShiftキーで水平方向にスナップできるようになりました。同じShiftキーで、楕円の場合もスナップすることができます。
- 補助線機能のもう一つの機能改善: 補助線へのスナップ挙動を、最初にスナップした補助線のみに限定するためのチェックボックス(snap to single)を追加しました。チェックボックスをオフにすると以前のように複数の補助線に連続してスナップすることができます。
- いくつかのブラシプリセットを最適化したバージョンに変更しました: Basic_tip_default, Basic_tip_soft, Basic_wet, Block_basic, Block_bristles, Block_tilt, Ink_brush_25, Ink_gpen_10, Ink_gpen_25 これらのブラシの反応性がよくなっているはずです。
- 新しく、数学的に頑健なノーマルマップ合成ブレンドモードが追加されました。
- ランダム化されたブラシでのブラシアウトラインの更新速度を下げました。以前はランダムな回転が設定されたブラシでペイントするときはカーソルがうるさい感じになっていましたが、新しいバージョンではスムーズで目に優しくなっています。
- どのような選択領域もベクター図形に変換できるようになりました！
- 既に、画像をレイヤーサイズにトリミングするオプションはありましたが、逆も追加しました。レイヤーが画像より大きい場合のための、画像サイズへのトリミング機能です。(移動、回転などでレイヤーの大きさが画像より大きくなることはよく起こります)
- 覆い焼き、焼きこみフィルタを最適化しました。
- レイヤー統合機能の修正: Ctrl + Eで選択している複数レイヤーの統合が可能になりました。レイヤースタイルのある複数レイヤーの結合、クローンレイヤーとその元レイヤーの統合で起きていた問題を解決しました。
- 「色をアルファに」フィルタが16bit浮動小数点カラーモデルでも正しく機能するようになりました。
- いくつかショートカットを追加しました。新しいサイズにスケール CTRL+Alt+I、キャンバスの大きさの変更 Ctrl+Alt+C、グループレイヤーの作成 Ctrl+G、選択のフェザー Shift+F6

## 修正したバグ:

今回のリリースでは150個以上のバグ修正を行っています。以下は重要なバグ修正のハイライトです！バンドルの読み込みに関して重要な修正が行われました。システムが頑健になりましたが、古いバンドルファイルで問題が起こる可能性があります。クローンとスタンプブラシ作成ダイアログのデザイン変更を行いました。ブラシエディタの定義済みブラシ先端の一覧に新しいボタンが追加されています。また、パフォーマンス向上の最適化と、メモリーリーク修正などもありました

1. BUG: 351599 abr(Photoshop)ブラシ読み込みの修正
2. BUG:343615 キャンバスのみ表示モードに切り替えた時にツールバー可視状態を記憶する
3. BUG:338839 モディファイアキーが押されている場合はホイールでのズームをさせない
4. BUG:347500 アクティブレイヤーのマスクアクティブ化の問題の修正
5. 保存に失敗した時のわかりにくいエラーメッセージを削除
6. BUG 350289 : 完成していない補助線を読み込まないように修正
7. BUG:350960 WindowsでCtrl+Shift+Sを名前をつけて保存のショートカットとして追加
8. 絵筆ブラシプリセットの修正
9. バンプマップフィルタのUIでノーマルマップ使用のチェックボックスを修正
10. colordを使用している時のシステムで設定されたモニタープロファイルの読み込みを修正
11. リニアsRGBからガンマ補正されたsRGBへの変換時、カラースペース変換ダイアログで自動的に「最適化」のチェックをオフにする
12. BUG:351488 テクスチャ修正が不可能な時はテクスチャの共有をしない。2つの異なるプロファイルのモニタに、2つのウィンドウで同じ画像を表示するときの問題を解決します。
13. BUG:351488　モニタ間移動をした時にディスプレイプロファイルを更新。Kritaはウィンドウが別のモニタに移動したことを検出し、必要があればカラーコレクションを再計算します。
14. 設定を変更した後にディスプレイプロファイルを更新。カラーマネジメント設定を変更した後にKritaを再起動する必要がなくなりました。
15. BUG:351664 画像を開いていない時はレイヤー表示を使えないようにしました。画像を開く前にレイヤー表示を右クリックした場合に起きる可能性があったクラッシュを防ぎます。
16. BUG:351548 変形ツールがパススルーグループレイヤーに適用できるようにしました
17. BUG:351560 デフォルトのKoColorは黒で透明であることの確認 (カラーフィルレイヤーのデフォルト色設定の問題を修正)
18. 数多くのメモリリークの修正
19. BUG:351497 保存時に “photoshop”:DateCreated” をブラックリスト化。PhotoshopはJPG画像に壊れたメタデータを追加し、Photoshopで作成されたJPGをKritaのネイティブのファイル形式に保存するときに問題が起きていました。
20. 16 bitsのPNG画像の読み込み時にプロファイルを聞くダイアログを追加。これまでは16bitsのRGB画像ではリニアであるとKritaは推定していました。
21. 色補正フィルタの大部分のパフォーマンスの向上
22. BUG:350498 kzipでのエンコード問題の回避。日本語名を含んだ画像は再び正しく読み込まれるようになりました。
23. BUG:348099 PNGへの出力時のエラーメッセージを変更
24. BUG:349571 シェイプブラシの透明度設定を使用不可に。6年くらい正しく機能していません。
25. 自動保存画像回復ダイアログに説明を追加してわかりやすくしました。
26. BUG:321361 階層ディレクトリからのリソース読み込み
27. OpenRasterやKRAファイルへの保存で統合画像の保存に膨大なメモリを使用しないように修正
28. BUG:351298 CMYK JPEGの保存の修正。16bits CMYKをJPEGに保存するときのクラッシュを修正
29. BUG:351195 「レイヤーを独立させる」モードでのスローダウンを修正
30. 選択マスクの読み込みを修正
31. BUG:345560 ファイルレイヤーを作成した時のファイルを最近使用したファイルに追加しない
32. BUG:351224 透明マスクつきのグループでパススルーモードをオンにした時のクラッシュを修正
33. BUG:347798 消しゴムに切り替えた時に、ブラシサイズの小数点を切り捨てない
34. ロックされたグループレイヤーへの新規レイヤー追加を禁止
35. グループに含まれている場合は、非表示状態のレイヤーも一緒に移動させる
36. BUG:345619 マスクのドラッグ&ドロップを許可
37. フィルレイヤーのオプション表示が正しくなるように修正
38. BUG:344490 カラー選択設定のlumaオプションを翻訳可能に
39. BUG:351193 ストローク中にレイヤーを独立表示させた時のフリーズを修正
40. BUG:349621 パレットドッキングパネル:水平スクロールバーの表示を抑制
41. スタンプ、クリップボードからのブラシ作成ダイアログの修正とUI再デザイン
42. BUG:351185 Rショートカットでパススルーグループ内のレイヤーを選択可能に
43. 間違ったマニフェストアイテムがあってもバンドルの読み込みを止めない
44. BUG:349333 フィルレイヤーでのアルファを相続機能の修正
45. BUG:351005 フィルタマネージャを開いた状態でKritaを閉じた時のクラッシュを修正
46. BUG:347285: すべてのプラットホームでF1ショートカットキーでKritaマニュアルを開くように修正
47. BUG: 341899 Surface Pro 3での消しゴムのための回避策
48. BUG:350588 PSDファイル形式がシステムに認識されなかった時のクラッシュを修正
49. BUG:350280 ブラシツールでvキーとbキーを同時に押した時のフリーズを修正
50. BUG:350280 直線ツールのクラッシュを修正
51. BUG:350507 非アフィン変形を含むトランスフォームマスクを読み込んだ時のクラッシュを修正

### ダウンロード

- Linux
    - ディストリビューションはそれぞれ自分のブリーディングエッジリポジトリにパッケージを出すはずです。
    - Ubuntu及びその系列ディストリビューションではいつも通りKrita Limeが利用可能です：[https://launchpad.net/~dimula73/+archive/ubuntu/krita](https://launchpad.net/~dimula73/+archive/ubuntu/krita)
    - OpenSUSEユーザーはKDE:Extra repo:[http://download.opensuse.org/repositories/KDE:/Extra/](http://download.opensuse.org/repositories/KDE:/Extra/)、あるいはVcをサポートしたKritaのビルドを持つLeinir氏のOBSリポジトリが使用可能です。
        - [http://download.opensuse.org/repositories/home:/leinir:/calligragemini/openSUSE_13.1/](http://download.opensuse.org/repositories/home:/leinir:/calligragemini/openSUSE_13.1/)
        - [http://download.opensuse.org/repositories/home:/leinir:/calligragemini/openSUSE_13.2/](http://download.opensuse.org/repositories/home:/leinir:/calligragemini/openSUSE_13.2/)
        - [http://download.opensuse.org/repositories/home:/leinir:/calligragemini/openSUSE_Factory/](http://download.opensuse.org/repositories/home:/leinir:/calligragemini/openSUSE_Factory/)
- Windows及びOSX
    - [ダウンロードページ](https://jp.krita.org/download/krita-desktop/ "Krita Desktop")が更新されましたので新ビルドをご確認ください。MSIインストーラを使用したくないという場合は[files.kde.org](http://files.kde.org/krita)からWindows版KritaのZipファイルのポータブル版をダウンロードできます。
    - またベータチャンネルにDesktop29オプションを使用する[Steam版Krita](http://store.steampowered.com/app/280680)の最新バージョンも利用可能になっています。Steam版Kritaのユーザーは自動でアップデートがなされます。
